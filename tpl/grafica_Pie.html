<!-- Parte avanazada sobre la visualizacion de los objetivos de cada organizacion con
un Pie Chart y considerando los valores globales de cada organizacion por separado

Se puede continuar con el desarrollo de la idea segun guste o abandonarlo -->


<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Gonzalo">
    <!-- <link rel="icon" href="../../../../favicon.ico"> -->

    <title>Grafica de los Alcanzados</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <!-- estilos de Chart.js -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.css">
    <!-- Custom styles for this template -->
    <link href="{$_WEB_PATH_}/css/dashboard.css" rel="stylesheet">
    <!-- CSS for datatables -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css"/>

    {$_HEADER_EXTRA}

  </head>

  <body>
    
    {$_NAVEGACION_SUPERIOR}

    <div class="container-fluid">
      <div class="row">
        
        {$_MENU_IZQUIERDA}  

        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
          {$_MAIN}

          <div>
            <canvas id="canvas" height="300" width="600"></canvas>
          </div>

          <p>
              Cada organización centra su labor en una de las poblaciones clave. Y para cada poblacion clave hay una serie
              de objetivos específicos.
              Lo que esta sección muestra con su visualización es el progreso de cada organización desde el inicio del programa anual. 

              Por lo tanto es necesario seleccionar <b>una sola población</b> exclusivamente
          </p>


          <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
          
          <script type="text/javascript" scr="grafica_barras.js"></script>

          <script>
            
            let poblacion = getElementsByClassName("poblacion"); // or document.querySelector('poblacion');
 
            function ajustarObjetivoAnual(poblacion){ 
                if (poblacion == "TRANS") { ObjetivoAnual = 100 };  // ObejtivoAnual es un numero especifico para
                if (poblacion == "HSH") { ObjetivoAnual = 350 };    // cada organizacion. 
                if (poblacion == "TSF") { ObjetivoAnual= 125 };       
            };

            console.log(poblacion);
            console.log(ObjetivoAnual);

            var ctx = document.getElementById("canvas"); 


            var myChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ["Alcanzados hasta la fecha","Faltan para completar el objetivo"],
                    datasets: [
                        {
                        label: "TSF",
                        data: [70, 30], // [ALCANZADOS,FALTAN] [A,B]=total por alcanzar  
                        backgroundColor: ["#ff0000", "#00cc66"],
                        borderColor: ["#000000"],
                        borderWidth: [1]
                        }
                    ]
                },
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        position: "top",
                        text: "Objetivo global para XXXXXX son 100 ",
                        fontSize: 50,
                        fontColor: "#111"
                    },
                    legend: {
                        display: true,
                        position: "bottom", 
                        labels: {
                            fontColor: "#333",
                            fontSize: 16
                        }
                    }
                }
                  
              });


          </script>

          <!-- EL script que viene debajo corresponde al SOCIAL MEDIA FEED
          <script async src="https://walls.io/js/wallsio-widget-1.2.js" data-wallurl="https://walls.io/h4b3d?nobackground=1&amp;show_header=0" data-title="Forteleciendo respuestas al HIV en Panama" data-width="100%" data-autoheight="1" data-injectloadmorebutton="1" data-loadmoretext="Load more posts" data-loadmorecount="5" data-height="300" data-lazyload="1"></script>    
          -->
        </main>
      </div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

    <!-- Datatables plugin files -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.18/b-1.5.6/b-html5-1.5.6/b-print-1.5.6/datatables.min.js"></script>

    <!-- Icons -->
    <script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script>
    <script>
      feather.replace()
    </script>

    {$_FOOTER_EXTRA}

  </body>
</html>
